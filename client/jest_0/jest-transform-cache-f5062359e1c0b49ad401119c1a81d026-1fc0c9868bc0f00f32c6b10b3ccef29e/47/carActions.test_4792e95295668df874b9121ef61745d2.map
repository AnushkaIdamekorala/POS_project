{"version":3,"sources":["carActions.test.js"],"names":["middlewares","thunk","mockStore","describe","beforeEach","moxios","install","afterEach","uninstall","test","expectedArray","_id","itm","name","productCode","price","description","availableCount","__v","count","wait","request","requests","mostRecent","respondWith","status","response","expectedActions","type","types","CART_LOADING","payload","GET_CART","store","cartItems","totalAmount","cartLoading","cartId","dispatch","actions","getCart","then","getActions","toEqual","ADD_TO_CART","total","id","addToCart","success","DELETE_FROM_CART","deleteFromCart","idd","countt","UPDATE_COUNT","updateCount","CLEAR_CART","clearCart"],"mappings":"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","sourcesContent":["import configureMockStore from \"redux-mock-store\";\nimport thunk from \"redux-thunk\";\nimport * as actions from \"./cartActions\";\nimport * as types from \"./types\";\nimport expect from \"expect\";\nimport regeneratorRuntime from \"regenerator-runtime\";\nimport moxios from \"moxios\";\n\nconst middlewares = [thunk];\nconst mockStore = configureMockStore(middlewares);\n\ndescribe(\"getCart cartActions\", () => {\n  beforeEach(function() {\n    moxios.install();\n  });\n\n  afterEach(function() {\n    moxios.uninstall();\n  });\n\n  test(\"correctly\", () => {\n    const expectedArray = [\n      {\n        _id: \"5c6e3f2ccd583f2bd04e55cc\",\n        itm: {\n          _id: \"5c67bb90f004c93ecd7006bf\",\n          name: \"Coke\",\n          productCode: 2,\n          price: 100,\n          description:\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec iaculis metus dolor, at mollis \",\n          availableCount: 500,\n          __v: 0\n        },\n        count: 1\n      },\n      {\n        _id: \"5c6e3fbc461b152d009ba691\",\n        itm: {\n          _id: \"5c67bd07f004c93ecd7006c6\",\n          name: \"Ice Cream\",\n          productCode: 9,\n          price: 120,\n          description:\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec iaculis metus dolor, at mollis \",\n          availableCount: 170,\n          __v: 0\n        },\n        count: 1\n      },\n      {\n        _id: \"5c6e5d167d83b649d32e3c0c\",\n        itm: {\n          _id: \"5c67bbc7f004c93ecd7006c0\",\n          name: \"Apple\",\n          productCode: 3,\n          price: 80,\n          description:\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec iaculis metus dolor, at mollis \",\n          availableCount: 600,\n          __v: 0\n        },\n        count: 4\n      },\n      {\n        _id: \"5c6fce27dedd73364924ed67\",\n        itm: {\n          _id: \"5c67bc01f004c93ecd7006c2\",\n          name: \"Milk\",\n          productCode: 5,\n          price: 200,\n          description:\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec iaculis metus dolor, at mollis \",\n          availableCount: 400,\n          __v: 0\n        },\n        count: 4\n      },\n      {\n        _id: \"5c7379de4316081c7de67208\",\n        itm: {\n          _id: \"5c67bc28f004c93ecd7006c3\",\n          name: \"Cheese\",\n          productCode: 6,\n          price: 350,\n          description:\n            \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec iaculis metus dolor, at mollis \",\n          availableCount: 70,\n          __v: 0\n        },\n        count: 1\n      }\n    ];\n\n    moxios.wait(() => {\n      const request = moxios.requests.mostRecent();\n      request.respondWith({\n        status: 200,\n        response: expectedArray\n      });\n    });\n\n    const expectedActions = [\n      { type: types.CART_LOADING },\n      {\n        payload: expectedArray,\n        type: types.GET_CART\n      }\n    ];\n\n    const store = mockStore({\n      cartItems: [],\n      totalAmount: 0,\n      cartLoading: false,\n      cartId: \"5c6a4c226c7e0a0f2c7ea2fb\"\n    });\n\n    return store.dispatch(actions.getCart()).then(() => {\n      // return of async actions\n      expect(store.getActions()).toEqual(expectedActions);\n    });\n  });\n});\n\ndescribe(\"addToCart cartActions\", () => {\n  beforeEach(function() {\n    moxios.install();\n  });\n\n  afterEach(function() {\n    moxios.uninstall();\n  });\n\n  test(\"correctly\", () => {\n    moxios.wait(() => {\n      const request = moxios.requests.mostRecent();\n      request.respondWith({\n        status: 200,\n        response: [1, 2, 3, 4]\n      });\n    });\n\n    const expectedActions = [\n      {\n        payload: [1, 2, 3, 4],\n        type: types.ADD_TO_CART\n      }\n    ];\n\n    const store = mockStore({ cartItems: [], total: 0, cartLoading: false });\n\n    const id = \"5c6bf6cdd2104b6379fdf49c\";\n    const count = 6;\n\n    return store.dispatch(actions.addToCart(id, count)).then(() => {\n      // return of async actions\n      expect(store.getActions()).toEqual(expectedActions);\n    });\n  });\n});\n\ndescribe(\"deleteFromCart cartActions\", () => {\n  beforeEach(function() {\n    moxios.install();\n  });\n\n  afterEach(function() {\n    moxios.uninstall();\n  });\n\n  test(\"correctly\", () => {\n    moxios.wait(() => {\n      const request = moxios.requests.mostRecent();\n      request.respondWith({\n        status: 200,\n        response: { success: true }\n      });\n    });\n\n    const id = \"5c6bf6cdd2104b6379fdf49c\";\n\n    const expectedActions = [\n      {\n        payload: id,\n        type: types.DELETE_FROM_CART\n      }\n    ];\n\n    const store = mockStore({ cartItems: [], total: 0, cartLoading: false });\n\n    return store.dispatch(actions.deleteFromCart(id)).then(() => {\n      // return of async actions\n      expect(store.getActions()).toEqual(expectedActions);\n    });\n  });\n});\n\ndescribe(\"updateCount cartActions\", () => {\n  beforeEach(function() {\n    moxios.install();\n  });\n\n  afterEach(function() {\n    moxios.uninstall();\n  });\n\n  test(\"correctly\", () => {\n    moxios.wait(() => {\n      const request = moxios.requests.mostRecent();\n      request.respondWith({\n        status: 200,\n        response: { success: true }\n      });\n    });\n\n    const id = \"5c6bf6cdd2104b6379fdf49c\";\n    const count = 4;\n\n    const expectedActions = [\n      {\n        payload: {\n          idd: id,\n          countt: count\n        },\n        type: types.UPDATE_COUNT\n      }\n    ];\n\n    const store = mockStore({ cartItems: [], total: 0, cartLoading: false });\n\n    return store.dispatch(actions.updateCount(id, count)).then(() => {\n      // return of async actions\n      expect(store.getActions()).toEqual(expectedActions);\n    });\n  });\n});\n\ndescribe(\"clearCart cartActions\", () => {\n  beforeEach(function() {\n    moxios.install();\n  });\n\n  afterEach(function() {\n    moxios.uninstall();\n  });\n\n  test(\"correctly\", () => {\n    moxios.wait(() => {\n      const request = moxios.requests.mostRecent();\n      request.respondWith({\n        status: 200,\n        response: { success: true }\n      });\n    });\n\n    const expectedActions = [\n      {\n        payload: { success: true },\n        type: types.CLEAR_CART\n      }\n    ];\n\n    const store = mockStore({ cartItems: [], total: 0, cartLoading: false });\n\n    return store.dispatch(actions.clearCart()).then(() => {\n      // return of async actions\n      expect(store.getActions()).toEqual(expectedActions);\n    });\n  });\n});\n"]}