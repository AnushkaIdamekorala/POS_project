35b5286b329d0dfc5fc2920683861475
"use strict";

var _interopRequireWildcard = require("/home/anushkai/Desktop/Training/code/redux/fullStack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/anushkai/Desktop/Training/code/redux/fullStack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireDefault");

var _cartReducer = _interopRequireDefault(require("./cartReducer"));

var types = _interopRequireWildcard(require("../actions/types"));

var id = "23ac34de23b23ace23";
describe("cart reducer", () => {
  it("should return the initial state", () => {
    expect((0, _cartReducer.default)(undefined, {})).toEqual({
      cartId: "",
      cartItems: [],
      cartLoading: false,
      totalAmount: 0
    });
  });
  it("should handle SET_CART_ID", () => {
    const relevantAction = {
      type: types.SET_CART_ID,
      payload: id
    };
    expect((0, _cartReducer.default)({
      cartId: "",
      cartItems: [],
      cartLoading: false,
      totalAmount: 0
    }, relevantAction)).toEqual({
      cartId: id,
      cartItems: [],
      cartLoading: false,
      totalAmount: 0
    });
  });
  it("should handle GET_CART", () => {
    const getCartAction = {
      type: types.GET_CART,
      payload: {
        _id: id,
        items: [{
          _id: "1232313acd",
          itm: {
            price: 20
          },
          count: 4
        }, {
          _id: "2542313acd",
          itm: {
            price: 55
          },
          count: 1
        }]
      }
    };
    expect((0, _cartReducer.default)({
      cartId: id,
      cartItems: [],
      cartLoading: false,
      totalAmount: 0
    }, getCartAction)).toEqual({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 4
      }, {
        _id: "2542313acd",
        itm: {
          price: 55
        },
        count: 1
      }],
      cartLoading: false,
      totalAmount: 135
    });
  });
  it("should handle DELETE_FROM_CART", () => {
    const deleteCartItemAction = {
      type: types.DELETE_FROM_CART,
      payload: "2542313acd"
    };
    expect((0, _cartReducer.default)({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 4
      }, {
        _id: "2542313acd",
        itm: {
          price: 55
        },
        count: 1
      }],
      cartLoading: false,
      totalAmount: 135
    }, deleteCartItemAction)).toEqual({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 4
      }],
      cartLoading: false,
      totalAmount: 80
    });
  });
  it("should handle ADD_TO_CART", () => {
    const addCartItemAction = {
      type: types.ADD_TO_CART,
      payload: {
        _id: id,
        items: [{
          _id: "1232313acd",
          itm: {
            price: 20
          },
          count: 4
        }, {
          _id: "123ab13ac1",
          itm: {
            price: 40
          },
          count: 2
        }]
      }
    };
    expect((0, _cartReducer.default)({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 4
      }],
      cartLoading: false,
      totalAmount: 80
    }, addCartItemAction)).toEqual({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 4
      }, {
        _id: "123ab13ac1",
        itm: {
          price: 40
        },
        count: 2
      }],
      cartLoading: false,
      totalAmount: 160
    });
  });
  it("should handle UPDATE_COUNT", () => {
    const updateCartItemAction = {
      type: types.UPDATE_COUNT,
      payload: {
        idd: "1232313acd",
        countt: 6
      }
    };
    expect((0, _cartReducer.default)({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 4
      }, {
        _id: "123ab13ac1",
        itm: {
          price: 40
        },
        count: 2
      }],
      cartLoading: false,
      totalAmount: 160
    }, updateCartItemAction)).toEqual({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 6
      }, {
        _id: "123ab13ac1",
        itm: {
          price: 40
        },
        count: 2
      }],
      cartLoading: false,
      totalAmount: 200
    });
  });
  it("should handle CART_LOADING", () => {
    expect((0, _cartReducer.default)({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 6
      }, {
        _id: "123ab13ac1",
        itm: {
          price: 40
        },
        count: 2
      }],
      cartLoading: false,
      totalAmount: 200
    }, {
      type: types.CART_LOADING
    })).toEqual({
      cartId: id,
      cartItems: [{
        _id: "1232313acd",
        itm: {
          price: 20
        },
        count: 6
      }, {
        _id: "123ab13ac1",
        itm: {
          price: 40
        },
        count: 2
      }],
      cartLoading: true,
      totalAmount: 200
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcnRSZWR1Y2VyLnRlc3QuanMiXSwibmFtZXMiOlsiaWQiLCJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwidW5kZWZpbmVkIiwidG9FcXVhbCIsImNhcnRJZCIsImNhcnRJdGVtcyIsImNhcnRMb2FkaW5nIiwidG90YWxBbW91bnQiLCJyZWxldmFudEFjdGlvbiIsInR5cGUiLCJ0eXBlcyIsIlNFVF9DQVJUX0lEIiwicGF5bG9hZCIsImdldENhcnRBY3Rpb24iLCJHRVRfQ0FSVCIsIl9pZCIsIml0ZW1zIiwiaXRtIiwicHJpY2UiLCJjb3VudCIsImRlbGV0ZUNhcnRJdGVtQWN0aW9uIiwiREVMRVRFX0ZST01fQ0FSVCIsImFkZENhcnRJdGVtQWN0aW9uIiwiQUREX1RPX0NBUlQiLCJ1cGRhdGVDYXJ0SXRlbUFjdGlvbiIsIlVQREFURV9DT1VOVCIsImlkZCIsImNvdW50dCIsIkNBUlRfTE9BRElORyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUEsSUFBSUEsRUFBRSxHQUFHLG9CQUFUO0FBRUFDLFFBQVEsQ0FBQyxjQUFELEVBQWlCLE1BQU07QUFDN0JDLEVBQUFBLEVBQUUsQ0FBQyxpQ0FBRCxFQUFvQyxNQUFNO0FBQzFDQyxJQUFBQSxNQUFNLENBQUMsMEJBQVFDLFNBQVIsRUFBbUIsRUFBbkIsQ0FBRCxDQUFOLENBQStCQyxPQUEvQixDQUF1QztBQUNyQ0MsTUFBQUEsTUFBTSxFQUFFLEVBRDZCO0FBRXJDQyxNQUFBQSxTQUFTLEVBQUUsRUFGMEI7QUFHckNDLE1BQUFBLFdBQVcsRUFBRSxLQUh3QjtBQUlyQ0MsTUFBQUEsV0FBVyxFQUFFO0FBSndCLEtBQXZDO0FBTUQsR0FQQyxDQUFGO0FBU0FQLEVBQUFBLEVBQUUsQ0FBQywyQkFBRCxFQUE4QixNQUFNO0FBQ3BDLFVBQU1RLGNBQWMsR0FBRztBQUNyQkMsTUFBQUEsSUFBSSxFQUFFQyxLQUFLLENBQUNDLFdBRFM7QUFFckJDLE1BQUFBLE9BQU8sRUFBRWQ7QUFGWSxLQUF2QjtB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RSxZQUFQO0FBQXFCRSxRQUFBQSxHQUFHLEVBQUU7QUFBRUMsVUFBQUEsS0FBSyxFQUFFO0FBQVQsU0FBMUI7QUFBeUNDLFFBQUFBLEtBQUssRUFBRTtBQUFoRCxPQUZTLENBRmI7QUFNRWIsTUFBQUEsV0FBVyxFQUFFLEtBTmY7QUFPRUMsTUFBQUEsV0FBVyxFQUFFO0FBUGYsS0FERixFQVVFO0FBQ0VFLE1BQUFBLElBQUksRUFBRUMsS0FBSyxDQUFDa0I7QUFEZCxLQVZGLENBREksQ0FBTixDQWVFekIsT0FmRixDQWVVO0FBQ1JDLE1BQUFBLE1BQU0sRUFBRU4sRUFEQTtBQUVSTyxNQUFBQSxTQUFTLEVBQUUsQ0FDVDtBQUFFVSxRQUFBQSxHQUFHLEVBQUUsWUFBUDtBQUFxQkUsUUFBQUEsR0FBRyxFQUFFO0FBQUVDLFVBQUFBLEtBQUssRUFBRTtBQUFULFNBQTFCO0FBQXlDQyxRQUFBQSxLQUFLLEVBQUU7QUFBaEQsT0FEUyxFQUVUO0FBQUVKLFFBQUFBLEdBQUcsRUFBRSxZQUFQO0FBQXFCRSxRQUFBQSxHQUFHLEVBQUU7QUFBRUMsVUFBQUEsS0FBSyxFQUFFO0FBQVQsU0FBMUI7QUFBeUNDLFFBQUFBLEtBQUssRUFBRTtBQUFoRCxPQUZTLENBRkg7QUFNUmIsTUFBQUEsV0FBVyxFQUFFLElBTkw7QUFPUkMsTUFBQUEsV0FBVyxFQUFFO0FBUEwsS0FmVjtBQXdCRCxHQXpCQyxDQUFGO0FBMEJELENBeExPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVkdWNlciBmcm9tIFwiLi9jYXJ0UmVkdWNlclwiO1xuaW1wb3J0ICogYXMgdHlwZXMgZnJvbSBcIi4uL2FjdGlvbnMvdHlwZXNcIjtcblxudmFyIGlkID0gXCIyM2FjMzRkZTIzYjIzYWNlMjNcIjtcblxuZGVzY3JpYmUoXCJjYXJ0IHJlZHVjZXJcIiwgKCkgPT4ge1xuICBpdChcInNob3VsZCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGVcIiwgKCkgPT4ge1xuICAgIGV4cGVjdChyZWR1Y2VyKHVuZGVmaW5lZCwge30pKS50b0VxdWFsKHtcbiAgICAgIGNhcnRJZDogXCJcIixcbiAgICAgIGNhcnRJdGVtczogW10sXG4gICAgICBjYXJ0TG9hZGluZzogZmFsc2UsXG4gICAgICB0b3RhbEFtb3VudDogMFxuICAgIH0pO1xuICB9KTtcblxuICBpdChcInNob3VsZCBoYW5kbGUgU0VUX0NBUlRfSURcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHJlbGV2YW50QWN0aW9uID0ge1xuICAgICAgdHlwZTogdHlwZXMuU0VUX0NBUlRfSUQsXG4gICAgICBwYXlsb2FkOiBpZFxuICAgIH07XG4gICAgZXhwZWN0KFxuICAgICAgcmVkdWNlcihcbiAgICAgICAge1xuICAgICAgICAgIGNhcnRJZDogXCJcIixcbiAgICAgICAgICBjYXJ0SXRlbXM6IFtdLFxuICAgICAgICAgIGNhcnRMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB0b3RhbEFtb3VudDogMFxuICAgICAgICB9LFxuICAgICAgICByZWxldmFudEFjdGlvblxuICAgICAgKVxuICAgICkudG9FcXVhbCh7XG4gICAgICBjYXJ0SWQ6IGlkLFxuICAgICAgY2FydEl0ZW1zOiBbXSxcbiAgICAgIGNhcnRMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHRvdGFsQW1vdW50OiAwXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGhhbmRsZSBHRVRfQ0FSVFwiLCAoKSA9PiB7XG4gICAgY29uc3QgZ2V0Q2FydEFjdGlvbiA9IHtcbiAgICAgIHR5cGU6IHR5cGVzLkdFVF9DQVJULFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBfaWQ6IGlkLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHsgX2lkOiBcIjEyMzIzMTNhY2RcIiwgaXRtOiB7IHByaWNlOiAyMCB9LCBjb3VudDogNCB9LFxuICAgICAgICAgIHsgX2lkOiBcIjI1NDIzMTNhY2RcIiwgaXRtOiB7IHByaWNlOiA1NSB9LCBjb3VudDogMSB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cGVjdChcbiAgICAgIHJlZHVjZXIoXG4gICAgICAgIHtcbiAgICAgICAgICBjYXJ0SWQ6IGlkLFxuICAgICAgICAgIGNhcnRJdGVtczogW10sXG4gICAgICAgICAgY2FydExvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIHRvdGFsQW1vdW50OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGdldENhcnRBY3Rpb25cbiAgICAgIClcbiAgICApLnRvRXF1YWwoe1xuICAgICAgY2FydElkOiBpZCxcbiAgICAgIGNhcnRJdGVtczogW1xuICAgICAgICB7IF9pZDogXCIxMjMyMzEzYWNkXCIsIGl0bTogeyBwcmljZTogMjAgfSwgY291bnQ6IDQgfSxcbiAgICAgICAgeyBfaWQ6IFwiMjU0MjMxM2FjZFwiLCBpdG06IHsgcHJpY2U6IDU1IH0sIGNvdW50OiAxIH1cbiAgICAgIF0sXG4gICAgICBjYXJ0TG9hZGluZzogZmFsc2UsXG4gICAgICB0b3RhbEFtb3VudDogMTM1XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGhhbmRsZSBERUxFVEVfRlJPTV9DQVJUXCIsICgpID0+IHtcbiAgICBjb25zdCBkZWxldGVDYXJ0SXRlbUFjdGlvbiA9IHtcbiAgICAgIHR5cGU6IHR5cGVzLkRFTEVURV9GUk9NX0NBUlQsXG4gICAgICBwYXlsb2FkOiBcIjI1NDIzMTNhY2RcIlxuICAgIH07XG5cbiAgICBleHBlY3QoXG4gICAgICByZWR1Y2VyKFxuICAgICAgICB7XG4gICAgICAgICAgY2FydElkOiBpZCxcbiAgICAgICAgICBjYXJ0SXRlbXM6IFtcbiAgICAgICAgICAgIHsgX2lkOiBcIjEyMzIzMTNhY2RcIiwgaXRtOiB7IHByaWNlOiAyMCB9LCBjb3VudDogNCB9LFxuICAgICAgICAgICAgeyBfaWQ6IFwiMjU0MjMxM2FjZFwiLCBpdG06IHsgcHJpY2U6IDU1IH0sIGNvdW50OiAxIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGNhcnRMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB0b3RhbEFtb3VudDogMTM1XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZUNhcnRJdGVtQWN0aW9uXG4gICAgICApXG4gICAgKS50b0VxdWFsKHtcbiAgICAgIGNhcnRJZDogaWQsXG4gICAgICBjYXJ0SXRlbXM6IFt7IF9pZDogXCIxMjMyMzEzYWNkXCIsIGl0bTogeyBwcmljZTogMjAgfSwgY291bnQ6IDQgfV0sXG4gICAgICBjYXJ0TG9hZGluZzogZmFsc2UsXG4gICAgICB0b3RhbEFtb3VudDogODBcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgaGFuZGxlIEFERF9UT19DQVJUXCIsICgpID0+IHtcbiAgICBjb25zdCBhZGRDYXJ0SXRlbUFjdGlvbiA9IHtcbiAgICAgIHR5cGU6IHR5cGVzLkFERF9UT19DQVJULFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBfaWQ6IGlkLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHsgX2lkOiBcIjEyMzIzMTNhY2RcIiwgaXRtOiB7IHByaWNlOiAyMCB9LCBjb3VudDogNCB9LFxuICAgICAgICAgIHsgX2lkOiBcIjEyM2FiMTNhYzFcIiwgaXRtOiB7IHByaWNlOiA0MCB9LCBjb3VudDogMiB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZXhwZWN0KFxuICAgICAgcmVkdWNlcihcbiAgICAgICAge1xuICAgICAgICAgIGNhcnRJZDogaWQsXG4gICAgICAgICAgY2FydEl0ZW1zOiBbeyBfaWQ6IFwiMTIzMjMxM2FjZFwiLCBpdG06IHsgcHJpY2U6IDIwIH0sIGNvdW50OiA0IH1dLFxuICAgICAgICAgIGNhcnRMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICB0b3RhbEFtb3VudDogODBcbiAgICAgICAgfSxcbiAgICAgICAgYWRkQ2FydEl0ZW1BY3Rpb25cbiAgICAgIClcbiAgICApLnRvRXF1YWwoe1xuICAgICAgY2FydElkOiBpZCxcbiAgICAgIGNhcnRJdGVtczogW1xuICAgICAgICB7IF9pZDogXCIxMjMyMzEzYWNkXCIsIGl0bTogeyBwcmljZTogMjAgfSwgY291bnQ6IDQgfSxcbiAgICAgICAgeyBfaWQ6IFwiMTIzYWIxM2FjMVwiLCBpdG06IHsgcHJpY2U6IDQwIH0sIGNvdW50OiAyIH1cbiAgICAgIF0sXG4gICAgICBjYXJ0TG9hZGluZzogZmFsc2UsXG4gICAgICB0b3RhbEFtb3VudDogMTYwXG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGhhbmRsZSBVUERBVEVfQ09VTlRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZUNhcnRJdGVtQWN0aW9uID0ge1xuICAgICAgdHlwZTogdHlwZXMuVVBEQVRFX0NPVU5ULFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBpZGQ6IFwiMTIzMjMxM2FjZFwiLFxuICAgICAgICBjb3VudHQ6IDZcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZXhwZWN0KFxuICAgICAgcmVkdWNlcihcbiAgICAgICAge1xuICAgICAgICAgIGNhcnRJZDogaWQsXG4gICAgICAgICAgY2FydEl0ZW1zOiBbXG4gICAgICAgICAgICB7IF9pZDogXCIxMjMyMzEzYWNkXCIsIGl0bTogeyBwcmljZTogMjAgfSwgY291bnQ6IDQgfSxcbiAgICAgICAgICAgIHsgX2lkOiBcIjEyM2FiMTNhYzFcIiwgaXRtOiB7IHByaWNlOiA0MCB9LCBjb3VudDogMiB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBjYXJ0TG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgdG90YWxBbW91bnQ6IDE2MFxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDYXJ0SXRlbUFjdGlvblxuICAgICAgKVxuICAgICkudG9FcXVhbCh7XG4gICAgICBjYXJ0SWQ6IGlkLFxuICAgICAgY2FydEl0ZW1zOiBbXG4gICAgICAgIHsgX2lkOiBcIjEyMzIzMTNhY2RcIiwgaXRtOiB7IHByaWNlOiAyMCB9LCBjb3VudDogNiB9LFxuICAgICAgICB7IF9pZDogXCIxMjNhYjEzYWMxXCIsIGl0bTogeyBwcmljZTogNDAgfSwgY291bnQ6IDIgfVxuICAgICAgXSxcbiAgICAgIGNhcnRMb2FkaW5nOiBmYWxzZSxcbiAgICAgIHRvdGFsQW1vdW50OiAyMDBcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgaGFuZGxlIENBUlRfTE9BRElOR1wiLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgcmVkdWNlcihcbiAgICAgICAge1xuICAgICAgICAgIGNhcnRJZDogaWQsXG4gICAgICAgICAgY2FydEl0ZW1zOiBbXG4gICAgICAgICAgICB7IF9pZDogXCIxMjMyMzEzYWNkXCIsIGl0bTogeyBwcmljZTogMjAgfSwgY291bnQ6IDYgfSxcbiAgICAgICAgICAgIHsgX2lkOiBcIjEyM2FiMTNhYzFcIiwgaXRtOiB7IHByaWNlOiA0MCB9LCBjb3VudDogMiB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBjYXJ0TG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgdG90YWxBbW91bnQ6IDIwMFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogdHlwZXMuQ0FSVF9MT0FESU5HXG4gICAgICAgIH1cbiAgICAgIClcbiAgICApLnRvRXF1YWwoe1xuICAgICAgY2FydElkOiBpZCxcbiAgICAgIGNhcnRJdGVtczogW1xuICAgICAgICB7IF9pZDogXCIxMjMyMzEzYWNkXCIsIGl0bTogeyBwcmljZTogMjAgfSwgY291bnQ6IDYgfSxcbiAgICAgICAgeyBfaWQ6IFwiMTIzYWIxM2FjMVwiLCBpdG06IHsgcHJpY2U6IDQwIH0sIGNvdW50OiAyIH1cbiAgICAgIF0sXG4gICAgICBjYXJ0TG9hZGluZzogdHJ1ZSxcbiAgICAgIHRvdGFsQW1vdW50OiAyMDBcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==