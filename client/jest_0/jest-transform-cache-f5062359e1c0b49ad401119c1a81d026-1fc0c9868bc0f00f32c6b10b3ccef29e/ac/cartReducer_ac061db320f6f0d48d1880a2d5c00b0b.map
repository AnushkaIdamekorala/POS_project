{"version":3,"sources":["cartReducer.js"],"names":["initialState","cartId","cartItems","cartLoading","totalAmount","state","action","detail","type","GET_CART","payload","items","DELETE_FROM_CART","filter","item","_id","ADD_TO_CART","CART_LOADING","UPDATE_COUNT","objIndex","findIndex","obj","idd","a","Object","assign","count","countt","CLEAR_CART","SET_CART_ID","length","g","map","itm","price"],"mappings":";;;;;;;;;;;AAAA;;AAUA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,EADW;AAEnBC,EAAAA,SAAS,EAAE,EAFQ;AAGnBC,EAAAA,WAAW,EAAE,KAHM;AAInBC,EAAAA,WAAW,EAAE;AAJM,CAArB;;AAOe,kBAASC,KAAK,GAAGL,YAAjB,EAA+BM,MAA/B,EAAuC;AACpD,MAAIC,MAAJ;;AACA,UAAQD,MAAM,CAACE,IAAf;AACE,SAAKC,eAAL;AACEF,MAAAA,MAAM,mCACDF,KADC;AAEJH,QAAAA,SAAS,EAAEI,MAAM,CAACI,OAAP,CAAeC,KAFtB;AAE6B;AACjCR,QAAAA,WAAW,EAAE;AAHT,QAAN;AAKA;;AACF,SAAKS,uBAAL;AACEL,MAAAA,MAAM,mCACDF,KADC;AAEJH,QAAAA,SAAS,EAAEG,KAAK,CAACH,SAAN,CAAgBW,MAAhB,CAAuBC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAaT,MAAM,CAACI,OAAnD;AAFP,QAAN;AAIA;;AACF,SAAKM,kBAAL;AACET,MAAAA,MAAM,mCACDF,KADC;AAEJH,QAAAA,SAAS,EAAEI,MAAM,CAACI,OAAP,CAAeC;AAFtB,QAAN;AAIA;;AACF,SAAKM,mBAAL;AACEV,MAAAA,MAAM,mCACDF,KADC;AAEJF,QAAAA,WAAW,EAAE;AAFT,QAAN;AAIA;;AACF,SAAKe,mBAAL;AACE,UAAIC,QAAQ,GAAGd,KAAK,CAACH,SAAN,CAAgBkB,SAAhB,CAA0BC,GAAG,IAAI;AAC9C,eAAOA,GAAG,CAACN,GAAJ,KAAYT,MAAM,CAACI,OAAP,CAAeY,GAAlC;AACD,OAFc,CAAf;AAGA,UAAIC,CAAC,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBpB,KAAK,CAACH,SAAxB,CAAR;AACAqB,MAAAA,CAAC,CAACJ,QAAD,CAAD,CAAYO,KAAZ,GAAoBpB,MAAM,CAACI,OAAP,CAAeiB,MAAnC;AACApB,MAAAA,MAAM,mCACDF,KADC;AAEJH,QAAAA,SAAS,EAAEqB;AAFP,QAAN;AAIA;;AACF,SAAKK,iBAAL;AACErB,MAAAA,MAAM,mCACDF,KADC;AAEJH,QAAAA,SAAS,EAAE;AAFP,QAAN;AAIA;;AACF,SAAK2B,kBAAL;AACEtB,MAAAA,MAAM,mCACDF,KADC;AAEJJ,QAAAA,MAAM,EAAEK,MAAM,CAACI;AAFX,QAAN;AAIA;;AACF;AACE,aAAOL,KAAP;AAlDJ;;AAoDAE,EAAAA,MAAM,CAACH,WAAP,GAAqB,CAArB;;AACA,MAAIG,MAAM,CAACL,SAAP,CAAiB4B,MAAjB,GAA0B,CAA9B,EAAiC;AAC/B,QAAIC,CAAC,GAAGxB,MAAM,CAACL,SAAP,CAAiB8B,GAAjB,CAAqBlB,IAAI,IAAI;AACnCP,MAAAA,MAAM,CAACH,WAAP,GAAqBG,MAAM,CAACH,WAAP,GAAqBU,IAAI,CAACY,KAAL,GAAaZ,IAAI,CAACmB,GAAL,CAASC,KAAhE;AACA,aAAO,IAAP;AACD,KAHO,CAAR;AAID,GALD,MAKO,IAAI3B,MAAM,CAACL,SAAP,CAAiB4B,MAAjB,KAA4B,CAAhC,EAAmC;AACxCvB,IAAAA,MAAM,CAACH,WAAP,GACEG,MAAM,CAACL,SAAP,CAAiB,CAAjB,EAAoBwB,KAApB,GAA4BnB,MAAM,CAACL,SAAP,CAAiB,CAAjB,EAAoB+B,GAApB,CAAwBC,KADtD;AAED,GAHM,MAGA;AACL3B,IAAAA,MAAM,CAACH,WAAP,GAAqB,CAArB;AACD;;AACD,SAAOG,MAAP;AACD","sourcesContent":["import {\n  GET_CART,\n  ADD_TO_CART,\n  DELETE_FROM_CART,\n  CART_LOADING,\n  UPDATE_COUNT,\n  CLEAR_CART,\n  SET_CART_ID\n} from \"../actions/types\";\n\nconst initialState = {\n  cartId: \"\",\n  cartItems: [],\n  cartLoading: false,\n  totalAmount: 0\n};\n\nexport default function(state = initialState, action) {\n  let detail;\n  switch (action.type) {\n    case GET_CART:\n      detail = {\n        ...state,\n        cartItems: action.payload.items, ///sure naaa\n        cartLoading: false\n      };\n      break;\n    case DELETE_FROM_CART:\n      detail = {\n        ...state,\n        cartItems: state.cartItems.filter(item => item._id !== action.payload)\n      };\n      break;\n    case ADD_TO_CART:\n      detail = {\n        ...state,\n        cartItems: action.payload.items\n      };\n      break;\n    case CART_LOADING:\n      detail = {\n        ...state,\n        cartLoading: true\n      };\n      break;\n    case UPDATE_COUNT:\n      let objIndex = state.cartItems.findIndex(obj => {\n        return obj._id === action.payload.idd;\n      });\n      let a = Object.assign([], state.cartItems);\n      a[objIndex].count = action.payload.countt;\n      detail = {\n        ...state,\n        cartItems: a\n      };\n      break;\n    case CLEAR_CART:\n      detail = {\n        ...state,\n        cartItems: []\n      };\n      break;\n    case SET_CART_ID:\n      detail = {\n        ...state,\n        cartId: action.payload\n      };\n      break;\n    default:\n      return state;\n  }\n  detail.totalAmount = 0;\n  if (detail.cartItems.length > 1) {\n    var g = detail.cartItems.map(item => {\n      detail.totalAmount = detail.totalAmount + item.count * item.itm.price;\n      return null;\n    });\n  } else if (detail.cartItems.length === 1) {\n    detail.totalAmount =\n      detail.cartItems[0].count * detail.cartItems[0].itm.price;\n  } else {\n    detail.totalAmount = 0;\n  }\n  return detail;\n}\n"]}